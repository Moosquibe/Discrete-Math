\documentclass[12pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath, amssymb, amsthm, graphicx, hyperref}
\usepackage{subfigure}
\usepackage{color}
\usepackage{fancyhdr}
\usepackage{multirow, multicol}
\usepackage{pdfpages}
\usepackage{stfloats}
\usepackage{tikz}
\pagestyle{fancy}

\fancypagestyle{firststyle}
{
  \renewcommand{\headrulewidth}{0pt}
  \fancyhead[LO]{\includegraphics{nyu_short_black}}
  \fancyhead[RO]{}
	\fancyfoot{}
}

\fancyhead[LO]{\scalebox{0.25}{\includegraphics{nyu_short_black}}}
\fancyhead[RO]{\tiny MATH-UA.120.002}


%\fancyfoot[RO]{\begin{tikzpicture}
%[scale=1, line/.style={black}]
%\draw[line] (0, 0)--(2,0)--(2, 2)--(0, 2)--(0, 0);
%%\node at (-0.5, 1) [anchor=east]{\large Score};
%\end{tikzpicture}}

\newcommand*\mycirc[1]{%
  \begin{tikzpicture}[baseline=(C.base)]
    \node[draw,circle,inner sep=1pt](C) {#1};
  \end{tikzpicture}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\proj}{\textbf{proj}}
\newcommand{\curl}{\textrm{curl }}
\newcommand{\divergence}{\textrm{div }}
% For boldface vectors:
\renewcommand{\vec}[1]{\mathbf{#1}}
\renewcommand\arraystretch{2}

\newtheorem*{proposition}{Proposition}


\begin{document}
\thispagestyle{firststyle}
~
\vspace{0.5cm}

\begin{center}
\textbf{\Large MATH-UA.120.002 - Discrete Mathematics \\ \vspace{0.5cm} Midterm 2 Solutions}\\~\\
Thursday, March 31, 2016
\end{center}

\vspace{1cm}

%\noindent
%\textbf{Name:} \underline{\hspace{15cm}}

\vspace{1cm}

\noindent
This exam is scheduled for 110 minutes, to be done individually, without calculators, notes, textbooks, and other outside materials.
\vspace{0.5cm}

\noindent
\textbf{Show all work to receive full credit, except where specified.}

\vspace{1cm}

\begin{multicols}{2}
\noindent

\noindent
\fbox{\parbox{10cm}{
\vspace{1cm}
\noindent
\textbf{Name: }

\vspace{1cm}

\noindent
\textbf{NYU NetID (email): }


\vspace{2cm}

\noindent
\emph{I pledge that I have observed the NYU honor code, and that I have neither given nor received unauthorized assistance during this examination.}
\noindent



\noindent

\vspace{1cm}

\noindent
\textbf{Signature:}

\vspace{2cm}
}}
%
%\vspace{0.5cm}
%

\begin{flushright}
\begin{tabular}{| c | c |}
\hline
Problem & Points \\
\hline
% & \\
TF & ~~~~~~~~~/20\\[0.5cm]
%& \\
\hline
% & \\
1 & ~~~~~~~~~/20\\[0.5cm]
%& \\
\hline
% & \\
2 & ~~~~~~~~~/20\\[0.5cm]
%& \\
\hline
% & \\
3 & ~~~~~~~~~/20\\[0.5cm]
%& \\
\hline
% & \\
4 & ~~~~~~~~~/20\\[0.5cm]
%& \\
\hline
\hline %& \\
Total & ~~~~~~~~~/100\\[0.5cm]
%& \\
\hline
\end{tabular}
\end{flushright}

\end{multicols}

\newpage

\section*{Answer Sheet (for Problem 1 True/False)} \label{answersheet}

%(3 points each) Select the correct option.  You need not explain your answer.  No partial credit will be given.
%
%\vspace{0.5cm}

\noindent
\textbf{You must record your final answers on the following answer sheet.  Only this page will be graded.}

\vspace{1cm}

\begin{center}
\begin{tabular}{| c | c c c c c |}
\hline

1 & \mycirc{T} & \mycirc{F} & & &  \\
% & & & & & \\
2 & \mycirc{T} & \mycirc{F} & & &   \\
% & & & & & \\
3 & \mycirc{T} & \mycirc{F} & & &   \\
% & & & & & \\
4 & \mycirc{T} & \mycirc{F} & & &  \\
% & & & & & \\
5 & \mycirc{T} & \mycirc{F} & & &  \\
6 & \mycirc{T} & \mycirc{F} & & & \\
7 & \mycirc{T} & \mycirc{F} & & & \\
8 & \mycirc{T} & \mycirc{F} & & & \\
9 & \mycirc{T} & \mycirc{F} & & & \\
10 & \mycirc{T} & \mycirc{F} & & & \\
\hline
\end{tabular}
\end{center}
\begin{flushright}
\begin{tikzpicture}
[scale=1, line/.style={black}]
\draw[line] (0, 0)--(2,0)--(2, 2)--(0, 2)--(0, 0);
\node at (-0.5, 1) [anchor=east]{\Large TOTAL};
\end{tikzpicture}
\end{flushright}
\renewcommand\arraystretch{1}

\begin{center}
\textbf{Make sure that you have marked your final answers on the answer sheet on page \pageref{answersheet}. Only answers on that page will be graded.}
\end{center}

\newpage
\section*{True or False - Average score $16.33$.}

(2 points each) Determine if each of the following statement is TRUE or FALSE.\\Choose TRUE if the statement is always true, and choose FALSE if it is not always true. Each question is worth 3 points.

\vspace{0.2cm}

\noindent
\textbf{Indicate your solution in the answer sheet on page \pageref{answersheet}.  You need not provide any justification.}


\begin{enumerate}
\item The set $(0,1]\cup\mathbb{Z}$ satisfies the well ordering principle. FALSE
\vspace{0.8cm}
\item Let $A=\{1,2,3\}$ and $B=\{3,4,5,6\}$. Then the relation $\{(1,3), (2,5), (3,4)\}$ is a function $f:A\to B$. TRUE
\vspace{0.8cm}
\item Let $A$ and $B$ be finite sets. Assume $f:A\to B$ is one-to-one and that there is a function $g:B\to A$ that is one to one. Then $f$ must also be onto. TRUE
\vspace{0.8cm}
\item $(h\circ g\circ f)^{-1}=h^{-1}\circ g^{-1}\circ f^{-1}$ FALSE
\vspace{0.8cm}
\item $(a-b)(a-c)(b-c)$ is always even if $a,b,c$ are integers. TRUE
\vspace{0.8cm}
\item Let $f(n)=n^2-3n+2$. Then $f(n)$ is $\Omega(n^3)$. FALSE
\vspace{0.8cm}
\item Let $A$ be a set. Suppose $f$ and $g$ are functions $f:A\to A$ and $g:A\to A$ with the property $f\circ g=\textrm{id}_A$. Then $f=g^{-1}$. (Warning: $A$ is not necessarily a finite set.) FALSE
\vspace{0.8cm}
\item Suppose $S$ is a set of $n + 1$ integers. There exist distinct $a, b \in S$ such that $a - b$ is a multiple of $n$. TRUE
\vspace{0.8cm}
\item Suppose $f(n)$ is $O(g(n))$. Then $34 f(n)$ is also $O(g(n))$. TRUE
\vspace{0.8cm}
\item Suppose $f,g:\mathbb{R}\to\mathbb{R}$ are defined by
\[
f(x)=x^2-4x+2,\qquad g(x)=2x-1
\]
Then $(f\circ g)(x)-(g\circ f)(x)=2x^2-4x+4$. TRUE
\end{enumerate}
\begin{center}
\textbf{Make sure that you have marked your final answers on the answer sheet on page \pageref{answersheet}. Only answers on that page will be graded.}
\end{center}
\newpage
\section*{Free Response}

\textbf{Show all work and justification.} 

\begin{enumerate}
\item (20 points) Solve the following recurrence relations.
\begin{enumerate}
\item $a_n=2-4a_{n-1}$; $a_0=2$.

We know from class that we can look for the solution in the form
\[
a_n=c_1(-4)^n+c_2.
\]
To find $c_1$ and $c_2$, we can match this formula with $a_0=2$ and $a_1=2-4a_0=-6$ and solve the system of equations
\begin{align*}
2&=c_1+c_2,\\
-6&=-4c_1+c_2.
\end{align*}
This gets us $c_1=\frac{8}{5}$ and $c_2=\frac{2}{5}$ and therefore
\[
a_n=\frac{8}{5}(-4)^n+\frac{2}{5}.
\]
\item $a_n=10a_{n-1}-25a_{n-2}$; $a_0=1$, $a_1=-3$.
The corresponding quadratic equation has the form
\[
0=r^2-10r+25=(r-5)^2
\]
and therefore $r=5$ is a double root. Therefore we know from class to look for the solution in the form
\[
a_n=(c_1+c_2n)r^n.
\]
To find $c_1$ and $c_2$, we have to solve
\begin{align*}
1&=a_0&=c_1,\\
-3&=a_1=5(c_1+c_2),
\end{align*}
which yields $c_1=1$ and $c_2=-\frac{8}{5}$. Therefore
\[
a_n=(1-\frac{8}{5}n)5^n.
\]
\vspace{4cm}

The average score on this problem was $18.03$, most of you got a perfect score.
\end{enumerate}
\newpage
\item (20 points) Suppose $f : A\to B$ and $g : B\to C$ are functions and $g\circ f$  is a one-to-one function.
Must f be one-to-one? Must g be one-to-one? Support your answers.

To show that $g$ does not necessarily need to be one-to-one, consider
\[
A=\{1,2,3\},\qquad B=\{1,2,3,4\},\qquad C=\{1,2,3\},
\]
and 
\[
f=\{(1,1),(2,2),(3,3)\},\qquad g=\{(1,1),(2,2),(3,3),(4,3)\}.
\]
Then $f$ is one-to-one, $g$ is not one-to-one, but
\[
g\circ f=\{(1,1),(2,2),(3,3)\}
\]
is one-to-one.

On the other hand to show that $f$ is one to one, let $x_1,x_2\in A$, be such that
\[
f(x_1)=f(x_2).
\]
Applying $g$ to both sides, we get
\[
g\circ f(x_1)=g\circ f(x_2).
\]
Since $g\circ f$ is one-to one, this implies $x_1=x_2$ which proves that $f$ must be one-to-one.

\vspace{4cm}
The average score on this problem was 10.42. Many of you had serious troubles figuring out what to do which you tried to mask by writing the definition over and over. Only two people succeeded in figuring that $g$ must not be one-to-one, mostly because most of you didn't consider the possibility seriously that the image of $f$ might actually be strictly a subset of $B$ which is the domain of $g$. There have been attempts at the proof using cardinality arguments. Since the sets $A$, $B$, $C$ were not assumed finite, this was not a viable approach and a perfect execution (the analogous result for finite sets) would have earned at most half credit. 
\newpage
\item (20 points)
\begin{enumerate}
\item (10 points) Use the method of smallest counterexample to show that for all $n\in\mathbb{N}$,
\[
\sum_{i=1}^n\frac{2}{(i+1)(i+2)}=\frac{n}{n+2}
\]
For the sake of contradiction suppose that the statement is false. Then there is a smallest natural that violates the equation above. Let's call this natural $k$. We can rule out $k=0$ as then the empty sum on the left hand side would give $0$ just as the right hand side. Also $k=1$ can be ruled out as
\[
\frac{2}{(1+1)(1+2)}=\frac{1}{3}=\frac{1}{1+2}.
\]
Therefore, $k-1<k$ is a natural number that is not a counterexample and therefore
\[
\sum_{i=1}^{k-1}\frac{2}{(i+1)(i+2)}=\frac{k-1}{(k-1)+2}=\frac{k-1}{k+1}.
\]
By adding $\frac{2}{(k+1)(k+2)}$ to both sides, we get the sum from $1$ to $k$ on the left hand side, while the right hand side becomes
\[
\frac{k-1}{k+1}+\frac{2}{(k+1)(k+2)}=\frac{1}{k+1}\left(k-1+\frac{2}{k+2}\right)=\frac{1}{k+1}\frac{k(k+1)}{k+2}=\frac{k}{k+2}
\]
which implies that $k$ was not a counterexample either. $\Rightarrow\Leftarrow$. The proof using induction is very similar.
\vspace{4cm}

Due to the mistake, I essentially took which version gave the better score and just used that to grade the entire problem. Most of you got this pretty well, the average score was  19.9.
\end{enumerate}
\newpage
\item For a function $f : A\to B$, consider the induced inverse-image function $f^{-1}:2^B\to 2^A$ given by 
\[
f^{-1}(X)=\{a\in A: f(a)\in X\},\qquad X\in 2^B.
\]
\begin{enumerate}
\item (5 points) Let $f: \mathbb{N}\to \mathbb{N}$ be defined by $f(n)$ being the number of letters in the English word form of n. For example $f(1)=3$ (three letters in `one'), $f(4)=4$ (four letters in `four'). Find $f^{-1}(\{1,2,3,4\})$.
\[
f^{-1}(\{1,2,3,4\})=\{0,1,2,4,5,6,9,10\}
\]
as these are the only natural numbers whose corresponding English word form contains $1,2,3,$ or $4$ letters.
\item (15 points) Prove the follwing proposition. Note that this is NOT about the particular example in part (a).

\begin{proposition}
If $f:A\to B$ is a function and $f^{-1}:2^B\to 2^A$, defined as above, is onto, then $f$ is one-to-one. 
\end{proposition}
Hint: Prove the contrapositive.

If $f$ is not one to one, then there are $a_1,a_2\in A$ such that $c:=f(a_1)=f(a_2)$ but $a_1\neq a_2$. Note that for any $C\subseteq B$, either $c\in C$ or $c\notin C$. In the first case, $a_1,a_2\in f^{-1}(C)$ while in the second one $a_1,a_2\notin f^{-1}(C)$. As this exhausts all possibilities, there is no subset $C$ of $B$ that contains only one of $a_1$ and $a_2$. In particular, there is no $C\in 2^{B}$ such that $f^{-1}(C)=\{a_1\}$. This shows that $f^{-1}:2^B\to 2^A$ was onto.
\end{enumerate}
\vspace{4cm}

This problem was testing how much you understood the definition of one-to-one and onto and were able to apply these definitions in a slightly unusual context. The object $f^{-1}$, which is NOT the functional inverse of $f$ (even though it is denoted by the same symbol), is not completely new, it appeared and was explained on the last homework before this midterm. Therefore this problem was also checking how much you actually understand the homework you hand in. Many of you obviously must not have understood that problem either, nevertheless, I barely got any questions about it during office hours. I hope that this will change in the future as a similar thing can also happen on the final as well. Many of you got the first part right, however, only 3,5 people succeeded with the second part (0.5 meaning that that solution was in the right direction, but not all the way perfect). The average score was 9,06.

\end{enumerate}

\newpage
\noindent
\textbf{Extra paper}
%
%\newpage
%\noindent
%\textbf{Extra paper}

%\includepdf[pages=1-2]{FormulaSheets.pdf}

\end{document}